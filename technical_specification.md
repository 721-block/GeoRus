# Техническое задание
## Разработка приложения для разработки маршрутов «Майской прогулки»

### 1. Общие сведения

#### 1.1 Название проекта
Разработка приложения для разработки маршрутов «Майской прогулки»

#### 1.2 Цель проекта
Создание web-приложения для упрощения разработки новых маршрутов «Майской прогулки» и создания архива маршрутов прошлых лет.

#### 1.3 Контекст проекта
"Майская прогулка" - традиционное массовое мероприятие, организуемое УрФУ и Федерацией спортивного туризма области с 1984 года. Ежегодно разрабатывается 3-5 новых маршрутов протяженностью от 10 до 50 км.

### 2. Функциональные требования

#### 2.1 Работа с картами
- **FR-1.1**: Интеграция с OpenStreetMaps с возможностью переключения на спутниковые карты Google и Yandex
- **FR-1.2**: Рисование маршрутов поверх карты с возможностью редактирования каждой точки
- **FR-1.3**: Автоматическое притягивание линий маршрута к существующим тропам OpenStreetMaps (по выбору пользователя)

#### 2.2 Управление точками маршрута
- **FR-2.1**: Создание обычных точек маршрута
- **FR-2.2**: Создание узловых точек, при перемещении которых сдвигаются все связанные маршруты
- **FR-2.3**: Поддержка нескольких вариантов маршрутов, пересекающихся в узловых точках

#### 2.3 Классификация маршрутов
- **FR-3.1**: Маркировка участков как "предварительные варианты" и "окончательный маршрут"
- **FR-3.2**: Расчет километража всех вариантов маршрута
- **FR-3.3**: Удобное отображение километража для пользователя

#### 2.4 Анализ маршрутов
- **FR-4.1**: Расчет протяженности участков с различным покрытием (асфальт, лесные тропы, полевые тропы, железные дороги)
- **FR-4.2**: Расчет расчетного времени движения от старта до узловых точек
- **FR-4.3**: Использование данных OpenStreetMaps для анализа покрытия

#### 2.5 Работа с данными
- **FR-5.1**: Хранение данных в облачной базе данных (Google, Яндекс диск или аналогичные сервисы)
- **FR-5.2**: Возможность совместной работы нескольких пользователей с маршрутом
- **FR-5.3**: Экспорт окончательного варианта в форматах GPX/KML/KMZ
- **FR-5.4**: Импорт маршрутов из формата GPX
- **FR-5.5**: Хранение базы данных маршрутов прошлых лет
- **FR-5.6**: Редактирование маршрутов прошлых лет

#### 2.6 Дополнительные функции
- **FR-6.1**: Притягивание маршрутов к маршрутам прошлых лет для корректировки треков
- **FR-6.2**: Максимальное удобство рисования и изменения атрибутов маршрутов

### 3. Нефункциональные требования

#### 3.1 Производительность
- **NFR-1.1**: Время загрузки карты не более 3 секунд
- **NFR-1.2**: Время отклика при редактировании маршрута не более 500 мс
- **NFR-1.3**: Поддержка работы с маршрутами длиной до 50 км

#### 3.2 Надежность
- **NFR-2.1**: Обеспечение сохранности данных при совместной работе
- **NFR-2.2**: Возможность автосохранения изменений каждые 30 секунд
- **NFR-2.3**: Обработка ошибок сетевого взаимодействия

#### 3.3 Удобство использования
- **NFR-3.1**: Интуитивно понятный интерфейс для пользователей без технической подготовки
- **NFR-3.2**: Возможность отмены/возврата действий
- **NFR-3.3**: Горячие клавиши для часто используемых операций

#### 3.4 Совместимость
- **NFR-4.1**: Поддержка современных браузеров (Chrome, Firefox, Safari, Edge)
- **NFR-4.2**: Адаптивный дизайн для работы на различных устройствах
- **NFR-4.3**: Кроссплатформенность

### 4. Архитектура системы

#### 4.1 Тип приложения
Web-приложение с возможностью работы в браузере на ПК и мобильных устройствах

#### 4.2 Технологический стек
- Frontend: HTML5, CSS3, JavaScript, Leaflet/OpenLayers для работы с картами
- Backend: Node.js/Python для API
- База данных: PostgreSQL с PostGIS или MongoDB для хранения геоданных
- Облачное хранилище: Google Drive API, Yandex Disk API или аналогичные

#### 4.3 Основные компоненты
- Модуль работы с картами
- Модуль редактирования маршрутов
- Модуль анализа маршрутов
- Модуль импорта/экспорта данных
- Модуль совместной работы
- Модуль хранения данных

### 5. Интерфейс пользователя

#### 5.1 Основные элементы
- Карта в центре экрана (80% площади)
- Панель инструментов слева
- Панель свойств справа
- Верхняя панель с меню и индикаторами состояния

#### 5.2 Режимы работы
- Режим создания нового маршрута
- Режим редактирования существующего маршрута
- Режим анализа маршрута
- Режим просмотра архива

### 6. Требования к безопасности
- Аутентификация пользователей
- Разграничение прав доступа
- Защита данных при передаче
- Резервное копирование данных